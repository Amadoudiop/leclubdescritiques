{"version":3,"sources":["../../../web/js/creemson.js"],"names":["console","log","readURL","input","files","reader","FileReader","onload","e","$","attr","target","result","readAsDataURL","change","click","r","confirm","preventDefault","id","ajax","url","Routing","generate","type","data","success","state","location","reload","sortList","pageTitle","sortable","update","event","ui","response","after","error","Dropped"],"mappings":";;AAAAA,QAAQC,GAAR,CAAY,2BAAZ;;AAEA;;;AAGA,SAASC,OAAT,CAAiBC,KAAjB,EAAwB;AACpB,QAAIA,MAAMC,KAAN,IAAeD,MAAMC,KAAN,CAAY,CAAZ,CAAnB,EAAmC;AAC/B,YAAIC,SAAS,IAAIC,UAAJ,EAAb;;AAEAD,eAAOE,MAAP,GAAgB,UAAUC,CAAV,EAAa;AACzBC,cAAE,cAAF,EAAkBC,IAAlB,CAAuB,KAAvB,EAA8BF,EAAEG,MAAF,CAASC,MAAvC;AACH,SAFD;;AAIAP,eAAOQ,aAAP,CAAqBV,MAAMC,KAAN,CAAY,CAAZ,CAArB;AACH;AACJ;;AAEDK,EAAE,eAAF,EAAmBK,MAAnB,CAA0B,YAAU;AAChCZ,YAAQ,IAAR;AACH,CAFD;;AAIA;;;AAGAO,EAAE,kBAAF,EAAsBM,KAAtB,CAA4B,UAASP,CAAT,EAAW;AACnC,QAAIQ,IAAIC,QAAQ,gBAAR,CAAR;;AAEA,QAAID,KAAK,IAAT,EACA;AACI,eAAO,IAAP;AACH,KAHD,MAKA;AACIR,UAAEU,cAAF;AACH;AACJ,CAXD;;AAcA;;;AAGAT,EAAE,SAAF,EAAaM,KAAb,CAAmB,YAAU;AACzB,QAAII,KAAKV,EAAE,IAAF,EAAQC,IAAR,CAAa,SAAb,CAAT;AACAV,YAAQC,GAAR,CAAYkB,EAAZ;AACAV,MAAEW,IAAF,CAAO;AACHC,aAAKC,QAAQC,QAAR,CAAiB,cAAjB,CADF;AAEHC,cAAK,MAFF;AAGHC,cAAK,gBAAc,aAAd,GAA4BN,EAH9B;AAIHO,iBAAS,iBAASC,KAAT,EAAe;AACpB;AACAC,qBAASC,MAAT;AACH;AAPE,KAAP;AASH,CAZD;;AAcA;;;AAGApB,EAAE,UAAF,EAAcM,KAAd,CAAoB,YAAU;AAC1B,QAAII,KAAKV,EAAE,IAAF,EAAQC,IAAR,CAAa,SAAb,CAAT;AACAV,YAAQC,GAAR,CAAYkB,EAAZ;AACAV,MAAEW,IAAF,CAAO;AACHC,aAAKC,QAAQC,QAAR,CAAiB,cAAjB,CADF;AAEHC,cAAK,MAFF;AAGHC,cAAK,iBAAe,aAAf,GAA6BN,EAH/B;AAIHO,iBAAS,iBAASC,KAAT,EAAe;AACpB;AACAC,qBAASC,MAAT;AACH;AAPE,KAAP;AASH,CAZD;;AAcA;;;AAGApB,EAAE,UAAF,EAAcM,KAAd,CAAoB,YAAU;AAC1B,QAAII,KAAKV,EAAE,IAAF,EAAQC,IAAR,CAAa,SAAb,CAAT;AACAV,YAAQC,GAAR,CAAYkB,EAAZ;AACAV,MAAEW,IAAF,CAAO;AACHC,aAAKC,QAAQC,QAAR,CAAiB,YAAjB,CADF;AAEHC,cAAK,MAFF;AAGHC,cAAK,iBAAe,WAAf,GAA2BN,EAH7B;AAIHO,iBAAS,iBAASC,KAAT,EAAe;AACpB;AACAC,qBAASC,MAAT;AACH;AAPE,KAAP;AASH,CAZD;;AAcApB,EAAG,YAAW;AACV;AACA,QAAIqB,WAAWrB,EAAE,WAAF,CAAf;AACA;AACA,QAAIsB,YAAYtB,EAAG,IAAH,CAAhB;AACAqB,aAASE,QAAT,CAAkB;AACdC,gBAAQ,gBAAUC,KAAV,EAAiBC,EAAjB,EAAsB;AAC9B;AACA,gBAAIV,OAAOK,SAASE,QAAT,CAAmB,SAAnB,CAAX;AACAhC,oBAAQC,GAAR,CAAYwB,IAAZ;AACAhB,cAAEW,IAAF,CAAO;AACHC,qBAAKC,QAAQC,QAAR,CAAiB,WAAjB,IAA8B,GAA9B,GAAkC,CADpC;AAEH;AACAC,sBAAK,MAHF;AAIHC,sBAAK,cAAYA,IAJd;AAKHC,yBAAS,iBAASU,QAAT,EAAkB;AACvBpC,4BAAQC,GAAR,CAAY,SAAZ;AACA;AACA8B,8BAAUM,KAAV,CAAgB,SAAhB;AACH,iBATE;AAUHC,uBAAO,eAASA,MAAT,EAAe;AAClBtC,4BAAQC,GAAR,CAAY,OAAZ;AACA;AACA8B,8BAAUM,KAAV,CAAgB,OAAhB;AAEH;AAfE,aAAP;AAiBA;AAED;AAxBe,KAAlB;AA0BA;AACH,CAhCD;;AAkCA,SAASE,OAAT,CAAiBL,KAAjB,EAAwBC,EAAxB,EAA2B;AACvB;;;;AAKA1B,MAAEW,IAAF,CAAO;AACHC,aAAKC,QAAQC,QAAR,CAAiB,WAAjB,CADF;AAEHC,cAAK,MAFF;AAGHC,cAAK,cAAYN,EAHd;AAIHO,iBAAS,iBAASC,KAAT,EAAe;AACpB;AACAC,qBAASC,MAAT;AACH;AAPE,KAAP;AASF;AACD","file":"creemson.js","sourcesContent":["console.log('creemson.js to the rescue');\n\n/**\n *\n */\nfunction readURL(input) {\n    if (input.files && input.files[0]) {\n        var reader = new FileReader();\n        \n        reader.onload = function (e) {\n            $('#preview_img').attr('src', e.target.result);\n        }\n        \n        reader.readAsDataURL(input.files[0]);\n    }\n}\n\n$(\".fileUploader\").change(function(){\n    readURL(this);\n});\n\n/**\n * Confirm delete\n */\n$('form .btn-danger').click(function(e){\n    var r = confirm(\"Confirm delete\");\n    \n    if (r == true)\n    {    \n        return true;\n    }\n    else\n    {\n        e.preventDefault();\n    }\n});\n\n\n/**\n * Add Oeuvre to the trending list\n */\n$('.trends').click(function(){\n    var id = $(this).attr('dataInt');\n    console.log(id);\n    $.ajax({\n        url: Routing.generate('oeuvre_index'),\n        type:'POST',\n        data:'trends=true'+'&oeuvre_id='+id,\n        success: function(state){\n            //console.log(state);\n            location.reload();\n        }\n    })\n});\n\n/**\n * Approve Oeuvre\n */\n$('.approve').click(function(){\n    var id = $(this).attr('dataInt');\n    console.log(id);\n    $.ajax({\n        url: Routing.generate('oeuvre_index'),\n        type:'POST',\n        data:'approve=true'+'&oeuvre_id='+id,\n        success: function(state){\n            //console.log(state);\n            location.reload();\n        }\n    })\n});\n\n/**\n * Add or Remove page from section\n */\n$('.section').click(function(){\n    var id = $(this).attr('dataInt');\n    console.log(id);\n    $.ajax({\n        url: Routing.generate('page_index'),\n        type:'POST',\n        data:'section=true'+'&page_id='+id,\n        success: function(state){\n            //console.log(state);\n            location.reload();\n        }\n    })\n});\n\n$( function() {\n    // sort the links\n    var sortList = $('#sortable');\n    //var animation = $( '#loading-animation' );\n    var pageTitle = $( 'h1' );\n    sortList.sortable({\n        update: function( event, ui ) {\n        //animation.show();\n        var data = sortList.sortable( 'toArray' );\n        console.log(data);\n        $.ajax({\n            url: Routing.generate('menu_show')+'/'+1,\n            //url: Routing.generate('menu_show'),\n            type:'POST',\n            data:'sortList='+data,\n            success: function(response){\n                console.log('success');\n                //animation.hide();\n                pageTitle.after('success');\n            },\n            error: function(error){\n                console.log('error');\n                //animation.hide();\n                pageTitle.after('error');\n\n            }\n        })\n        //Dropped();\n\n      }\n    });\n    //$( \"#sortable\" ).disableSelection();\n});\n\nfunction Dropped(event, ui){\n    /*$(\"#sortable tr\").each(function(){\n        //var p = $(this).position();\n        console.log($(this).attr('data_link_id'));\n\n    });*/\n    $.ajax({\n        url: Routing.generate('menu_show'),\n        type:'POST',\n        data:'sortList='+id,\n        success: function(state){\n            //console.log(state);\n            location.reload();\n        }\n    })\n  //refresh();\n}"]}