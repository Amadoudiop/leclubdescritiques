{% extends 'base_back.html.twig' %}
{% block stylesheets %}
    <link href="{{ asset('css/color-picker.min.css') }}" rel="stylesheet">
{% endblock %}


{% block body %}
    <h1>Status creation</h1>

    {{ form_start(form) }}
        {{ form_widget(form) }}
        <div id="color_square" style="width: 50px; height: 50px;"></div>
        <input type="submit" value="Create">
    {{ form_end(form) }}

    <ul>
        <li>
            <a href="{{ path('status_index') }}">Back to the list</a>
        </li>
    </ul>

{% endblock %}


{% block javascripts %}
    <script src="{{ asset('js/color-picker.min.js') }}"></script>
    <script>
        var picker = document.querySelector('#appbundle_status_color');
        picker = new CP(picker);

        picker.on("change", function(color) {
            color = '#' + color;
            this.target.value = color;
            $('#color_square').css('background-color', color);
        });
    </script>
{% endblock %}